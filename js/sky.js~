$().ready(function()
{
	function sky()
	{ 
		var CONST_TOP_ME = 0;
		var CONST_TOP_CREATIVE = 730;
		var CONST_TOP_CONTACT = 1470;
		var CONST_SLIDE_DURATION = 500;						// in ms.

		var _move_indicator = function(section_index)
		{
			$('#sky_nav').find('li').each(function(i)
				{
					if (i == section_index)
					{
						$(this).addClass('active');
					}
					else
					{
						$(this).removeClass('active');
					}
				});
		},
		_load_galleria = function()
		{
			Galleria.loadTheme('js/galleria/themes/classic/galleria.classic.min.js');
			Galleria.configure({
				transition: 'fade'
			});
			Galleria.run('#galleria');
		};

		$('#link_me, .nav_logo').click(function()
			{
				_move_indicator(0);
				$('html, body').animate({scrollTop: CONST_TOP_ME}, CONST_SLIDE_DURATION);
				return false;
			});

		$('#link_creative').click(function()
			{
				_move_indicator(1);
				$('html, body').animate({scrollTop: CONST_TOP_CREATIVE}, CONST_SLIDE_DURATION);
				return false;
			});

		$('#link_contact').click(function()
			{
				_move_indicator(2);
				$('html, body').animate({scrollTop: CONST_TOP_CONTACT}, CONST_SLIDE_DURATION);
				return false;
			});

		_load_galleria();
	}

	var s = new sky();
});
